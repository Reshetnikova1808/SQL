# SQL

# Стек

SQL, Clickhouse

# Очень усердные ученики.

Условие: 

Образовательные курсы состоят из различных уроков, каждый из которых состоит из нескольких маленьких заданий. Каждое такое маленькое задание называется "горошиной".

Очень усердным учеником считается пользователь, который хотя бы раз за текущий месяц правильно решил 20 горошин. 

Цель проекта: 

Необходимо написать оптимальный запрос, который даст информацию о количестве очень усердных студентов, при условии, что под усердным студентом мы понимаем студента, который правильно решил 20 задач за текущий месяц.

Входе выполнения проекта создала запрос к default.peas, позволяющий отфильтровать учеников, решивших более 20 задач за текущий месяц.

В результате выполнения запроса получила - 136 учердных учеников, дата - 01-10-2021 (отличается от текущей, не смотря на то, что в запросе используется "toStartOfMonth()", делаем вывод, что последние данные в "default.peas"отображены за октябрь 2021)



# Оптимизация воронки

Условие:

Образовательная платформа предлагает пройти студентам курсы по модели trial: студент может решить бесплатно лишь 30 горошин в день. Для неограниченного количества заданий в определенной дисциплине студенту необходимо приобрести полный доступ. Команда провела эксперимент, где был протестирован новый экран оплаты.

Активным считается пользователь, за все время решивший больше 10 задач правильно в любых дисциплинах. Активным по математике считается пользователь, за все время решивший 2 или больше задач правильно по математике.

Цель проекта: 

Необходимо в одном запросе выгрузить следующую информацию о группах пользователей:

1. ARPU;

2. ARPAU;

3. CR в покупку;

4. СR активного пользователя в покупку;

5. CR пользователя из активности по математике (subject = ’math’) в покупку курса по математике ARPU считается относительно всех пользователей, попавших в группы.

Входе работы над проектом создала запрос, в результате выполнения которого выгружена необходимая в задании информация:
![image](https://github.com/Reshetnikova1808/SQL/assets/147312981/4af0f356-4fdc-4394-a9ee-9c77caaa737e)

